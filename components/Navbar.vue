<script lang="ts" setup>
import { onBeforeUnmount, onMounted, ref
 } from "vue";

import { useColorMode } from "@vueuse/core";
const mode = useColorMode();
mode.value = "light";

let scrolledFromTop = ref(false)

onMounted(() => {
  scrolledFromTop.value = window.scrollY >= (window.innerHeight - 150)
  window.addEventListener('scroll', onScroll)
})

onBeforeUnmount(()=> {
  window.removeEventListener('scroll', onScroll)
})

function onScroll () {
  if (window.scrollY  > (window.innerHeight) && scrolledFromTop.value === true) {
    return
  }
  scrolledFromTop.value = window.scrollY >= (window.innerHeight - 250)
}

interface RouteProps {
  href: string;
  label: string;
}

interface FeatureProps {
  title: string;
  description: string;
}

const routeList: RouteProps[] = [
  {
    href: "#nosotros",
    label: "Nosotros",
  },
  {
    href: "#testimonials",
    label: "Servicios",
  },
  {
    href: "#testimonials",
    label: "Testimonios",
  },
  {
    href: "#team",
    label: "Equipo",
  },
  {
    href: "#contact",
    label: "Contacto",
  },
  {
    href: "#faq",
    label: "FAQ",
  },
];

const featureList: FeatureProps[] = [
  {
    title: "Showcase Your Value ",
    description: "Highlight how your product solves user problems.",
  },
  {
    title: "Build Trust",
    description:
      "Leverages social proof elements to establish trust and credibility.",
  },
  {
    title: "Capture Leads",
    description:
      "Make your lead capture form visually appealing and strategically.",
  },
];

const isOpen = ref<boolean>(false);
</script>

<template>
  <header
    class="mx-auto fixed z-40 flex justify-between items-center p-2 transition-all duration-300"
    :class="{'h-24 top-5 visible': !scrolledFromTop, 'h-1 top-5 hidden': scrolledFromTop}"
    ref="el"
  >
    <a
      href="/"
      class="font-bold text-lg flex items-center"
    >
    <svg class="h-40 w-40 pr-5 text-gray-400/50 fill-current hover:text-white" width="561" height="570" viewBox="0 0 561 570" fill="none" xmlns="http://www.w3.org/2000/svg" :class="{'h-40 w-40': !scrolledFromTop, 'px-16 top-0 text-gray-900 hover:text-white': scrolledFromTop}">
<path d="M228.52 122.16C228.44 122.24 226.2 122.44 223.56 122.6C220.92 122.76 218.64 122.96 218.48 123.04C218.32 123.16 216.6 123.4 214.68 123.6C212.76 123.8 209.56 124.24 207.56 124.6C205.6 125 203.16 125.44 202.16 125.6C201.16 125.8 199.2 126.24 197.76 126.6C196.32 126.96 194.52 127.4 193.76 127.6C193 127.8 191.36 128.24 190.16 128.6C188.96 128.96 187.44 129.4 186.76 129.56C185.12 130 178.24 132.36 176.76 133C176.12 133.28 174.32 134 172.76 134.6C168.36 136.28 159.12 140.72 153.96 143.6C152.64 144.32 150.92 145.28 150.16 145.72C149.4 146.12 148.48 146.72 148.12 147.04C147.8 147.36 147.36 147.6 147.2 147.6C146.28 147.6 132.32 157.6 127.16 161.96C119.96 168.04 109.92 177.96 106.56 182.36C106.2 182.8 105.4 183.76 104.72 184.48C102.56 186.92 94.56 197.52 94.12 198.6C94.04 198.84 92.96 200.52 91.72 202.4C90.48 204.28 88.88 206.88 88.16 208.2C87.44 209.52 86.36 211.4 85.84 212.4C85.28 213.4 84.72 214.48 84.56 214.8C84.4 215.12 83.96 216.04 83.56 216.8C82.36 219.08 82.28 219.28 80.84 222.4C76.32 232.2 72.04 244.6 70 253.72C69.4 256.44 69.64 256.72 72.8 256.92C74.64 257 74.68 256.96 75.04 255.6C75.96 251.84 77.36 246.76 77.76 245.8C77.96 245.36 78.2 244.56 78.28 244C78.48 243 81 235.76 81.72 234.2C81.92 233.76 82.68 231.96 83.36 230.2C84.72 226.76 89.76 216.4 91.8 212.8C95 207.12 104.72 192.68 106.72 190.56C106.96 190.32 107.88 189.24 108.76 188.16C109.64 187.12 111.04 185.4 111.92 184.4C113.6 182.4 125.96 170.08 128.16 168.2C131.16 165.6 137.32 160.8 140.36 158.68C142.12 157.44 143.76 156.24 144 156.08C144.72 155.44 152.12 150.84 154.48 149.52C155.72 148.84 157.4 147.92 158.16 147.48C162.84 144.84 172.36 140.44 177.36 138.64C179 138.04 180.72 137.4 181.16 137.2C182.6 136.56 189.2 134.44 192.4 133.56C194.12 133.08 196.2 132.52 196.96 132.32C198.56 131.88 199.8 131.64 205.96 130.44C211.96 129.28 214.76 128.84 217.36 128.56C218.56 128.44 220.64 128.2 221.96 128C225.08 127.48 250.04 127.48 253.16 127.96C254.48 128.2 256.72 128.48 258.16 128.6C259.6 128.72 261.04 128.92 261.36 129.04C261.72 129.12 263.24 129.36 264.76 129.6C268.24 130.04 276.4 131.76 279.36 132.64C280.56 132.96 282.2 133.4 282.96 133.6C283.72 133.76 285.28 134.2 286.36 134.6C287.48 134.96 288.92 135.4 289.56 135.6C290.92 135.96 298.36 138.6 299.56 139.16C300.28 139.48 302.28 140.32 304.36 141.2C307.68 142.56 318.44 148.04 322.12 150.28C328.92 154.4 333.6 157.4 334.48 158.28C334.8 158.56 335.4 159 335.84 159.24C336.84 159.76 345.92 167.04 348.76 169.6C354.12 174.4 363.6 184.28 366.6 188.2C367.12 188.84 367.8 189.68 368.12 190C369.68 191.6 380.16 206.48 380.16 207.08C380.16 207.16 380.8 208.24 381.56 209.44C382.76 211.28 384.24 214.04 387.8 220.8C388.72 222.52 391.48 228.76 392.88 232.2C395.36 238.36 399.04 249.76 400.16 255C400.36 255.88 400.8 257.84 401.16 259.4C402.68 266.16 403.68 273.12 404.12 279.64C404.32 282.6 404.64 286.52 404.76 288.32L405.08 291.6L218.12 291.72C77.6 291.8 30.68 291.96 29.28 292.28C24.2 293.56 19.48 297.48 17.28 302.24C16.08 304.84 16 305.28 16 309.6C16 313.92 16.08 314.36 17.28 316.96C18.76 320.16 22.56 324.16 25.44 325.48C30.24 327.76 16.2 327.6 218.76 327.6H404.88L405.16 326C405.32 325.12 405.32 323.88 405.16 323.2L404.88 322L217.44 321.92L29.96 321.8L28.24 320.88C25.6 319.48 23.64 317.48 22.36 314.92C21.4 313 21.2 312.12 21.2 309.6C21.2 307.08 21.4 306.2 22.36 304.28C23.64 301.72 25.6 299.72 28.24 298.32L29.96 297.4L287.16 297.2C428.64 297.08 544.4 296.96 544.48 296.88C544.52 296.84 544.56 295.72 544.56 294.44C544.56 292.68 544.4 292.04 543.92 291.84C543.56 291.72 513.32 291.6 476.72 291.6H410.16V287.48C410.12 282.44 408.52 268.48 407.16 261.8C405.92 255.64 405.8 255 405.16 252.6C404.8 251.28 404.36 249.56 404.2 248.8C404 248.04 403.52 246.32 403.08 245C402.64 243.68 401.96 241.52 401.56 240.2C401.16 238.88 400.72 237.64 400.52 237.44C400.32 237.2 400.16 236.68 400.16 236.2C400.16 235.72 400 235.2 399.84 234.96C399.64 234.76 399.16 233.68 398.8 232.6C398.4 231.48 397.8 229.96 397.48 229.2C397.16 228.44 396.76 227.44 396.56 227C396.2 226.12 394.64 222.72 393 219.2C392.44 218 391.56 216.32 391.08 215.52C390.56 214.68 390.16 213.84 390.16 213.6C390.16 212.12 376.4 191.04 373.48 188.08C373.2 187.8 372.96 187.44 372.96 187.28C372.96 187.12 372.36 186.36 371.64 185.6C370.96 184.84 369.64 183.28 368.76 182.2C366.36 179.16 353.2 166.12 349.16 162.76C337.28 152.96 326.96 146.16 314.48 139.92C311.92 138.64 309.72 137.6 309.6 137.6C309.48 137.6 308.36 137.12 307.08 136.56C305.8 136 304.4 135.36 303.96 135.2C303.52 135 302.52 134.6 301.76 134.28C299.76 133.44 291.04 130.32 287.76 129.28C285.32 128.52 275.24 125.96 273.16 125.6C272.08 125.4 269.64 124.96 267.76 124.6C259.08 123.04 247 122 236.72 122C232.32 122 228.6 122.08 228.52 122.16Z"/>
<path d="M79.04 352.48C78.4 353.12 78.4 356.48 79.04 357.12C79.4 357.48 115.12 357.6 237.4 357.6C324.24 357.6 395.56 357.48 395.92 357.36C396.84 357 396.84 352.6 395.92 352.24C395.56 352.12 324.24 352 237.4 352C115.12 352 79.4 352.12 79.04 352.48Z"/>
<path d="M94.24 382.36C93.88 382.56 93.76 383.4 93.84 385.04L93.96 387.4H237.76H381.56L381.68 385.28C381.76 384.04 381.6 382.88 381.32 382.56C380.92 382.08 360.84 382 237.8 382C159.12 382 94.52 382.16 94.24 382.36Z"/>
<path d="M117.92 412.96C117.8 413.24 117.76 414.36 117.84 415.44L117.96 417.4H237.76H357.56V415V412.6L237.84 412.48C136.4 412.4 118.12 412.48 117.92 412.96Z"/>
<path d="M159.24 442.68C159.08 442.8 158.96 444 158.96 445.28V447.6H237.76H316.6L316.48 445.08L316.36 442.6L237.92 442.48C194.8 442.44 159.36 442.52 159.24 442.68Z"/>
</svg>

      <span class="text-gray-400/50 hover:text-white" :class="{'text-gray-600 hover:text-white': scrolledFromTop}">SUNSET</span></a
    >
    <!-- Mobile -->

    <!-- Desktop -->
    <div class="hidden lg:block ">
      <div>
              <a v-for="{ href, label } in routeList"
              :key="label"
              as-child
              variant="ghost"
              class="justify-start text-base pl-5  text-gray-400/50 hover:text-white" :class="{'text-gray-600 hover:text-white': scrolledFromTop}"  :href="href">
                {{ label }}
              </a>
      </div>
    </div>

    <div class="hidden lg:flex">
    </div>
  </header>
</template>

<style scoped>
.shadow-light {
  box-shadow: inset 0 0 5px rgba(0, 0, 0, 0.085);
}

.shadow-dark {
  box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.141);
}
</style>
